### http基本概念
http协议，Hyper Text Transfer Protocol，全称超文本传输协议，是一个基于TCP协议的应用层传输协议，即客户端和服务端进行数据传输的一种规则。是一种明文的无状态协议。

### http版本

#### http/0.9
- 只支持`GET`请求方式
- 没有请求头
- 服务端响应后，立即关闭TCP连接

#### http/1.0
- 增加了`POST`、`HEAD`方法
- 规定了请求头、请求尾，响应头、响应尾
- 短连接，不支持`keep-alive`每次TCP只能发送一个请求，当服务器响应后就会关闭这次请求，TCP连接的建立成本很高，所以开始时发送速率较慢。随着网页加载外部内容的增多，问题愈发严重。所有有些浏览器请求时使用了非标准的Connection字段来保持连接。

#### http/1.1
- 默认长连接，即默认`Connection:keep-alive`。改善了http/1.0短连接造成的性能浪费。
- 支持管道(pipeline)网络传输，只要第一个请求发送出去了，不必等其回来，就可以发送第二个请求出去，减少整体响应时间。
- 增加了`PUT`、`PATCH`、`OPTIONS`、`DELETE`、`CONNECT`、`TRACE`
- 支持断点续传

#### http/2.0
- 头部压缩，增强性能
- 二进制协议，http/2.0是一个彻底的二进制协议，头信息和数据体都是二进制分帧，增加了传输速率
- 多路复用，有了二进制分帧，一个连接中，客户端和浏览器可以同时发送多个请求或回应，而且不用按照顺序一一对应。
- 服务端推送

### Cookie、sessionStorage、localStorage
- 都存放在本地客户端
- cookie时服务端生成的，再发送给客户端保存，当客户端再次访问时，服务器可根据cookie辨识客户端是哪个。
- cookie的大小不能超过4kb；sessionStorage和localStorage可以达到5M+
- session用于标记特定客户端信息，存在服务器的一个文件里，一般客户端带cookie对服务器进行访问，可通过cookie的session id 从整个session中查询到服务器记录的关于客户端的信息。
- cookie设置的过期时间之前一直有效，localStorage永久存储，浏览器关闭后也不会丢失；sessionStorage在当前浏览器窗口关闭后自动删除。
- cookie的数据会自动传递到服务器；sessionStorage和localStorage数据保存在本地。

### http状态码
- 1XX，接收的信息正在处理
- 2XX，请求正常处理完毕
- 3XX，重定向
- 4XX，客户端错误
- 5XX，服务端错误

常见错误码：
301：永久重定向，302：临时重定向，400：客户端请求报文有误，403：服务器禁止访问资源，404：请求的资源在服务器上不存在，500：服务器内部错误

### GET和POST的区别
- POST更安全，GET请求提交的数据会放在url上，post会放在request body请求体里。
- GET请求在url传递的参数中有长度限制，而POST没有。
- GET回退浏览器无害，POST会再次提交请求（GET回退浏览器从缓存中拿结果，POST每次都会创建新资源）。
- GET请求参数会被完整保留在浏览历史记录里，可被存为书签而POST不能。
- GET只能进行url编码，POST支持多种编码格式
- POST在发送数据前会将请求头发送给服务器进行确认，然后再发送真正的数据

### RESTful API
一种接口的规定风格，利用http中的get、post、put、delete等构成REST中的增删改查操作
- Create：POST
- Read：GET
- Update：PUT/PATCH
- Delete：DELETE

### https基本概念
https协议，以安全为目标的http通道，即在http下加入了SSL层进行加密。其作用是建立一个信息安全通道，确保数据的传输，确保网站的安全性。

### http和https的区别和优缺点
- https比http要安全，http是明文传输的，客户端和服务器都无法验证对方身份，https加入了SSL层（安全套接层）进行了对称加密，可防止数据在传输过程中不被窃取、改变、确保数据的完整性。
- http的默认端口是`80`，https的默认端口是`443`
- https需要用到ca证书，因此需要一定费用
- https握手阶段比较费时，会增加50%页面加载时间，和10%-20%的耗电
- https连接缓存不如http高效，会增加数据开销。
- CA证书需要绑定ip，不能在同一ip上绑定多个域名，IPV4资源支撑不了这种消耗
- https的加密范围是有限的，CA证书的信用链体系并不安全，特别是在某些国家可以控制根CA证书的情况，中间人攻击是可行的。

### https协议的工作原理
1. 客户端使用https url访问服务器，要求web服务器建立`ssl连接`。
2. web服务器接收到客户端的请求之后，`把证书（包含公钥）传输给客户端`。
3. 客户端解析证书，验证整数的合法性，生成对称加密密钥，我们将该密钥称之为client key，即客户端密钥，用服务器的公钥对客户端密钥进行非对称加密。
4. 客户端将加密之后的客户端对称密钥发送给服务器。
5. 服务器收到客户端发来的密文之后，会用自己的私钥对其进行非对称解密，解密之后的明文就是客户端密钥，然后用客户端密钥对数据进行对称加密，这样数据就变成了密文。
6. 服务器将加密后的密文发送给客户端
7. 客户端收到服务器发来的密文，用客户端密钥进行对称解密，得到服务器啊发送的数据，https传输完成。