### 从 url 输入到页面展示

1. 客户端 url 输入，浏览器解析 url
2. 开始 DNS 解析，浏览器缓存 -> HOSTS 文件 -> 路由器缓存 -> ISP 缓存 -> DNS 递归服务器，找到真实 IP 地址
3. 三次握手，建立 TCP 连接，发送 http request 请求
4. 服务器处理响应
5. 服务器通过 TCP 连接返回 http response 响应
6. 根据 keep-alive 判断是否保持 TCP 连接，否则四次挥手
7. 浏览器收到 HTTP 数据包，解析 html 生成 DOM 树，解析 CSS 生成 CSSOM 树(CSS 规则树)，合并成 render 树，然后 reflow 重排，repaint 重绘
8. js 解析

### 回流(重排)和重绘

- `回流/重排（reflow）`：当 DOM 的变化影响了元素的几何信息，浏览器需要重新计算元素的几何属性。即重新生成布局，重新排列元素。
- `重绘（repaint）`：当一个元素的外观发生改变，但没有改变布局，重新把元素外观重绘出来。

### http 请求跨域问题

#### 跨域的原理

**跨域**，由于**浏览器**的`同源策略`，浏览器不能执行其他网站的脚本。  
**同源策略**，浏览器对 JavaScript 实施安全限制，只要`协议`、`域名`、`端口`有任一不同，都被视作不同的域。
因此，我们需要通过不同方法，`避开浏览器安全限制`

#### 跨域解决方案

- JSONP 跨域

利用`<script>`标签没有跨域限制，通过`<script>`标签的`src`属性，发送带有 callback 参数的 GET 请求，服务器将接口返回数据拼凑到 callback 函数中，返回浏览器，浏览器解析执行，从而前端拿到 callback 函数的返回数据。缺点是只支持 GET。

- CORS，跨域资源共享

服务器设置对 CORS 的支持，服务器设置 Access-Control-Origin HTTP 响应头之后，浏览器将会允许跨域请求

- proxy 代理

开发的时候 webpack 中设置 proxy 代理到后端服务，生产环境配置 Nginx 反向代理，把请求转发到后端
