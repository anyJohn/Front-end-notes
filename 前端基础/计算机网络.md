### OSI七层协议
物理层、数据链路层、运输层、会话层、表示层、应用层
1. 物理层：物理机之间的通讯，网卡、集线器工作层。
2. 数据链路层：在不可靠的物理介质上提供可靠传输，接受物理层位流数据，封装成帧传递到上一层；也接受上层数据帧，拆分成位流转发到物理层。提供物理地址寻址功能。交换机工作层。
3. 网络层：将网络地址翻译成对应的物理地址，并决定如何将数据从发送方路由到接受方。路由器工作层（ip）。
4. 传输层：提供了进程之间的逻辑通讯，屏蔽了下面的网络层的核心细节，使得应用程序看起来像是在两个传输层实体之间有一条端到端的逻辑通讯信道（tcp、udp）。
5. 会话层：身份验证，权限鉴定，保持、断开会话。
6. 表示层：对数据格式进行编译，对收到或者发出的数据根据应用层的特征进行处理，对压缩文件解压，加密文件解密等。
7. 应用层：提供应用层协议（http、ftp、dns）。

### TCP、UDP协议
#### 区别
TCP作为面向流的协议，提供可靠的、面向连接的运输服务，并且提供点对点通信；UDP作为面向报文的协议，不提供可靠交付，并且不需要连接，不仅仅对点对点，也支持多播和广播。
#### 为何TCP是可靠的
TCP有三次握手建立连接，四次挥手关闭连接的机制。 除此之外还有滑动窗口和拥塞控制算法。最最关键的是还保留超时重传的机制。 对于每份报文也存在校验，保证每份报文可靠性。
#### 为何UDP是不可靠的
UDP面向数据报无连接的，数据报发出去，就不保留数据备份了。 仅仅在IP数据报头部加入校验和复用。 UDP没有服务器和客户端的概念。 UDP报文过长的话是交给IP切成小段，如果某段报废报文就废了。
#### 三次握手过程
1. 第一次握手:客户端将标志位SYN置为1，随机产生一个值序列号seq=x，并将该数据包发送给服务端，客户端 进入syn_sent状态，等待服务端确认。
2. 第二次握手:服务端收到数据包后由标志位SYN=1知道客户端请求建立连接，服务端将标志位SYN和 ACK都置为1，ack=x+1,随机产生一个值seq=y，并将该数据包发送给客户端以确认连接请求，服务端进入syn_rcvd状态。
3. 第三次握手:客户端收到确认后检查,如果正确则将标志位ACK为1，ack=y+1，并将该数据包发送给服务端，服务端进行检查如果正确则连接建立成功，客户端和服务端进入established状态，完成三次握手，随后客户端和服务端之间可以开始传输数据了。
#### 四次挥手过程
1. 第一次挥手：客户端发送一个FIN，用来关闭客户端到服务端的数据传送，客户端进入fin_wait_1状态。
2. 第二次挥手：服务端收到FIN后，发送一个ACK给客户端，确认序号为收到序号+1，服务端进入Close_wait状态。此时TCP连接处于半关闭状态，即客户端已经没有要发送的数据了，但服务端若发送数据，则客户端仍要接收。
3. 第三次挥手：服务端发送一个FIN，用来关闭服务端到客户端的数据传送，服务端进入Last_ack状态。
4. 第四次挥手：客户端收到FIN后，客户端进入Time_wait状态，接着发送一个ACK给服务端，确认后，服务端进入Closed状态，完成四次挥手。

### DNS协议
DNS协议是基于UDP的应用层协议，功能是根据用户输入的域名，解析出该域名对应的IP地址，从而给客户端进行访问。
#### DNS解析过程
1. 客户机发出访问请求，在本地计算机HOSTS文件中查询，如果没有找到，就会将请求发送递归DNS服务器（本地DNS服务器，localDNS）。
2. 递归DNS服务器在本地以及本地缓存中查找，找到返回地址，未找到询问根权威DNS服务器。
3. 根权威DNS服务器解析客户机查询的根域部分，把包含下一级的DNS服务器地址返回到递归DNS服务器。
4. 递归DNS服务器根据返回的信息，逐级递归查询，直到在有目标域名的服务器上得到相应的IP地址。
5. 递归DNS服务器将查询结构返回客户机。
6. 客户机根据得到的ip信息访问目标主机，解析完成。